1. CorrecciÃ³n de Ruta y EjecuciÃ³n Manual de Apache
SoluciÃ³n paso a paso: Detuvimos el servicio desde xamp o si tenemos permisos de administrador con el comando:

net stop wampapache64

ğŸ“Œ Ejecutamos Apache manualmente:
cd C:\wamp64\bin\apache\apache2.4.62.1\bin
httpd.exe
Esto levanta con el usuario logeado para la autenticaciÃ³n de windows, permitiendo conexiÃ³n autenticada con SQL Server.
ğŸ§  2. ActivaciÃ³n de sqlsrv en PHP 8.3.14
Ruta: C:\wamp64\bin\php\php8.3.14\php.exe
Archivos DLL requeridos:
â€¢	php_sqlsrv_83_ts_x64.dll
â€¢	php_pdo_sqlsrv_83_ts_x64.dll
ğŸ”§ Copiamos en: C:\wamp64\bin\php\php8.3.14\ext
Agregamos en php.ini: C:\wamp64\bin\php\php8.3.14\php.ini
extension=php_sqlsrv.dll
extension=php_pdo_sqlsrv.dll 

extension_dir = "C:\php\ext"  
extension=php_pdo_sqlsrv_83_ts_x64.dll

extension=php_sqlsrv_83_ts_x64.dll

ğŸ” Reiniciamos WAMP y confirmamos que en phpinfo()  la extensiÃ³n aparezca âœ….
Agregamos en php C:\wamp64\bin\apache\apache2.4.62.1\bin
extension=php_sqlsrv_83_ts_x64.dll
extension=php_pdo_sqlsrv_83_ts_x64.dll

ğŸ–¥ï¸ 3. AdaptaciÃ³n de la ConexiÃ³n de PHP
Antes (MySQL):

$artecolonial = mysqli_connect($host, $user, $pw, $db);
DespuÃ©s (SQL Server):

$serverName = "SPQ-SQLTST1";
$bd_DATABASE = "MSQCATPRO";

$options = [
    "Database"               => $bd_DATABASE,
    "CharacterSet"           => "UTF-8",
    "TrustServerCertificate" => true
];

$GLOBALS['artecolonial'] = sqlsrv_connect($serverName, $options);


ğŸ“Œ Eliminamos las variables de entorno DES, TST y dejamos solo la base de producciÃ³n.
ğŸ” 4. Script PHP para Prueba de ConexiÃ³n + Consulta
<?php
$serverName  = "SPQ-SQLTST1";
$bd_DATABASE = "MSQCATPRO";

$options = [
    'Database' => $bd_DATABASE,
    'CharacterSet' => 'UTF-8',
    'TrustServerCertificate' => true
];

$GLOBALS['artecolonial'] = sqlsrv_connect($serverName, $options);

$sql = "
    SELECT empcodigo, empnombres, empapellidopaterno, empemail
    FROM dbo.empleado
    WHERE empactivo = 1
    ORDER BY empnombres
";

$stmt = sqlsrv_query($GLOBALS['artecolonial'], $sql, [], ['Scrollable' => SQLSRV_CURSOR_KEYSET]);
$total = sqlsrv_num_rows($stmt);

echo "Empleados activos: {$total}<br>";
while ($row = sqlsrv_fetch_array($stmt, SQLSRV_FETCH_ASSOC)) {
    echo "â€¢ {$row['empcodigo']} - {$row['empnombres']} {$row['empapellidopaterno']} ({$row['empemail']})<br>";
}

sqlsrv_free_stmt($stmt);
sqlsrv_close($GLOBALS['artecolonial']);
?>


ğŸ” 5. ConfiguraciÃ³n del Entorno en VS Code
ğŸ”§ settings.json antes:
{
    "tabnine.experimentalAutoImports": true,
    "php.debug.executablePath": ""
}

ğŸ”§ settings.json actualizado:

{
  "php.debug.executablePath": "C:\\wamp64\\bin\\php\\php8.3.14\\php.exe",
  "tabnine.experimentalAutoImports": true
}

ğŸ§ª6.  DiagnÃ³stico y VerificaciÃ³n Final
âœ… Accedemos a: http://localhost/phpinfo.php
Confirmamos:
â€¢	PHP 8.3.14 activo
â€¢	sqlsrv cargado
â€¢	Apache corriendo en modo manual con tu usuario real





https://learn.microsoft.com/es-es/sql/connect/php/download-drivers-php-sql-server?view=sql-server-ver17
